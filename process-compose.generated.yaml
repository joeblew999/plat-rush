# Generated by: xplat docs process
# Regenerate with: xplat docs process

version: "0.5"
processes:
    fcm-token-server:
        command: task gorush:fcm-token-serve
        readiness_probe:
            http_get:
                path: /fcm-token-test.html
                port: 8443
                scheme: https
            initial_delay_seconds: 2
            period_seconds: 5
        availability:
            restart: on_failure
    gorush:
        command: task gorush:server
        depends_on:
            fcm-token-server:
                condition: process_healthy
        readiness_probe:
            http_get:
                path: /healthz
                port: 8088
                scheme: http
            initial_delay_seconds: 3
            period_seconds: 5
        availability:
            restart: on_failure
